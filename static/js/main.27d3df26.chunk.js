(this.webpackJsonplogin=this.webpackJsonplogin||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),i=(a(74),a(13)),s=a(14),c=a(15),u=a(16),p=(a(75),a(43)),m=a.n(p),d=m.a.create({baseURL:"http://127.0.0.1:8000",timeout:1e4,params:{}});m.a.defaults.headers={"Content-Type":"application/json"};var v=d,E=a(18),h=a(136),f=a(140),g=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;v.interceptors.request.use((function(t){return e.props.loading(!0),t}),(function(t){return e.props.loading(!1),Promise.reject(t)})),v.interceptors.response.use((function(t){return e.props.loading(!1),t}),(function(t){return e.props.loading(!1),console.log(t.toJSON()),Promise.reject(t)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(h.a,{open:this.props.loader.loaded,style:{zIndex:100,color:"#fff",margin:0}},r.a.createElement(f.a,{style:{width:60,height:"unset"},color:"inherit"})))}}]),a}(n.Component),y=Object(E.b)((function(e){return{loader:e}}),{loading:function(e){return function(t){t(e?{type:"SHOW_LOADER",data:e}:{type:"HIDE_LOADER",data:e})}}})(g),b=(a(98),a(99),function(){return r.a.createElement("div",{className:"card_picture"},r.a.createElement("div",{className:"card_picture__title"},r.a.createElement("h1",null,"Atma ",r.a.createElement("span",null,"Shop"))))}),w=(a(100),a(23)),O=(a(101),a(105)),I=function(e,t){return function(a){"text"===e?a({type:"TEXT_VALIDATION",input:e,value:t}):"email"===e?a({type:"EMAIL_VALIDATION",input:e,value:t}):"password"===e&&a({type:"PASSWORD_VALIDATION",input:e,value:t}),void 0!==t&&a({type:"EMPTY_INPUT",value:t})}},C=function(e){return function(t){console.log(e),void 0!==e&&t({type:"EMPTY_INPUT",value:e})}},S=a(143),j=a(142),_=a(144),L=function(e){return r.a.createElement(O.a,{in:!0,timeout:500},r.a.createElement(_.a,{variant:"filled",severity:"success"},e.title))},k=function(e){return r.a.createElement(O.a,{in:!0,timeout:500},r.a.createElement(_.a,{variant:"filled",severity:"error"},e.title))},A=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:null,password:null},e.onEmpty=function(){Object.values(e.state).map((function(t){return e.props.emptyInput(t)}))},e.onChanges=function(t){var a=t.target.name;e.setState(Object(w.a)({},t.target.name,t.target.value)),e.props.validation(a,t.target.value)},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};null===e.state.email&&null===e.state.password&&e.onEmpty();var n=e.props.validInputs,r=n.email,o=n.password;!0===r.valid&&!0===o.valid&&e.props.fetchLogin(a)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;console.log(this.props.validInputs);var t=this.props.login,a=t.loggedIn,n=t.error,o=this.props.validInputs,l=o.email,i=o.password,s=o.isEmpty,c=a?r.a.createElement(L,{title:"Sign in Successfully."}):null,u=n?r.a.createElement(k,{title:"Something Happend! Please Check Your Information."}):null;return r.a.createElement(O.a,{in:!0,timeout:500},r.a.createElement("div",{className:"card_signIn_body_form"},r.a.createElement("h2",null,"SIGN IN "),r.a.createElement("hr",null),c,u,r.a.createElement(S.a,{error:!(!l.validError&&!s)||null,name:"email",helperText:l.validError?l.textError:null,id:"standard-email-input",label:"Email",type:"email",size:"small",variant:"outlined",defaultValue:this.state.email,onChange:this.onChanges}),r.a.createElement(S.a,{error:!(!i.validError&&!s)||null,name:"password",id:"standard-password-input",helperText:i.validError||this.state.empty?i.textError:null,label:"Password",type:"password",size:"small",variant:"outlined",defaultValue:this.state.password,onChange:this.onChanges}),r.a.createElement(j.a,{onClick:this.onSubmit,size:"small",color:"secondary",variant:"contained"},"Sign In"),r.a.createElement("div",{className:"links_to_forget_password"},r.a.createElement("span",{onClick:function(){return e.props.turnComponent("forgetPassword")},className:"switchLink"},"Forget Password?")),r.a.createElement("div",null,r.a.createElement("div",{className:"links_to_signIn_password"},r.a.createElement("div",{className:"links_to_signIn"},r.a.createElement("span",null,"Don't Have Account?"),r.a.createElement("span",{onClick:function(){return e.props.turnComponent("signUp")},className:"switchLink"},"Register"))))))}}]),a}(n.Component),P=Object(E.b)((function(e){return{login:e.Login,validInputs:e.validation}}),{fetchLogin:function(e){return function(t){v.post("/api/login",e,{headers:{"Content-Type":"application/json"}}).then((function(e){return t({type:"LOGGIN_SUCCESSFULL"}),localStorage.setItem("usertoken",e.data.token),e.data.token})).catch((function(e){t({type:"LOGGIN_FAILURE"})}))}},validation:I,emptyInput:C})(A),N=(a(102),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:null,email:null,password:null,repeatPassword:null},e.onChanges=function(t){e.setState(Object(w.a)({},t.target.name,t.target.value)),e.props.validation(t.target.type,t.target.value)},e.onEmpty=function(){Object.values(e.state).map((function(t){return e.props.emptyInput(t)}))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,repeatPassword:e.state.repeatPassword};null===e.state.email&&null===e.state.email&&null===e.state.password&&e.onEmpty();var n=e.props.validInputs,r=n.email,o=n.password,l=n.text;r.valid&&o.valid&&l.valid&&e.state.password.value===e.state.repeatPassword.value&&e.props.register(a)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.validInputs,a=t.email,n=t.password,o=t.text,l=t.isEmpty,i=this.props.reg,s=i.registered,c=i.error,u=s?r.a.createElement(L,{title:"Sign in Successfully."}):null,p=c?r.a.createElement(k,{title:"Something Happend! Please Check Your Information."}):null;return r.a.createElement(O.a,{in:!0,timeout:500},r.a.createElement("div",{className:"card_signUp_body_form"},r.a.createElement("h2",null,"SIGN UP "),r.a.createElement("hr",null),u,p,r.a.createElement(S.a,{error:!(!o.validError&&!l)||null,name:"name",id:"name",label:"Name",size:"small",variant:"outlined",defaultValue:this.state.name,onChange:this.onChanges}),r.a.createElement(S.a,{error:!(!a.validError&&!l)||null,name:"email",id:"email",label:"Email",size:"small",type:"email",variant:"outlined",defaultValue:this.state.email,onChange:this.onChanges}),r.a.createElement(S.a,{error:!(!n.validError&&!l)||null,name:"password",size:"small",id:"password",label:"Password",type:"password",variant:"outlined",defaultValue:this.state.password,onChange:this.onChanges}),r.a.createElement(S.a,{error:!(this.state.password===this.state.repeatPassword&&!l),name:"repeatPassword",size:"small",id:"repaeatPassword",label:"Repeat Password",type:"password",variant:"outlined",defaultValue:this.state.repeatPassword,onChange:this.onChanges}),r.a.createElement(j.a,{onClick:this.onSubmit,size:"small",color:"secondary",variant:"contained"},"Sign Up"),r.a.createElement("div",{className:"link_to_signIn"},r.a.createElement("span",null,"Already have account ? "),r.a.createElement("span",{onClick:function(){return e.props.turnComponent("signIn")},className:"switchLink"},"SignIn"))))}}]),a}(n.Component)),T=Object(E.b)((function(e){return{reg:e.reg,validInputs:e.validation}}),{register:function(e){return function(t){v.post("/api/register",e,{headers:{"Content-Type":"application/json"}}).then((function(e){t({type:"REGISTER_SUCESSFULL"})})).catch((function(e){t({type:"REGISTER_FAILURE"})}))}},validation:I,emptyInput:C})(N),U=(a(103),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:null},e.onEmpty=function(){Object.values(e.state).map((function(t){return e.props.emptyInput(t)}))},e.onChanges=function(t){var a=t.target.name;e.setState(Object(w.a)({},t.target.name,t.target.value)),e.props.validation(a,t.target.value)},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email};null===e.state.email&&e.onEmpty(),e.props.validInputs.email.valid&&e.props.resetPassword(a)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.reset,a=t.resetSuccess,n=t.error,o=this.props.validInputs,l=o.email,i=o.isEmpty,s=a?r.a.createElement(L,{title:"Email Sent Successfully."}):null,c=n?r.a.createElement(k,{title:"Something Happend! Please Check Your Information."}):null;return r.a.createElement(O.a,{in:!0,timeout:500},r.a.createElement("div",{className:"card_Forget_Password_body_form"},r.a.createElement("h2",null,"Forget Password "),r.a.createElement("hr",null),s,c,r.a.createElement(S.a,{name:"email",error:!(!l.validError&&!i)||null,id:"standard-email-input",label:"Email",type:"text",size:"small",variant:"outlined",defaultValue:this.state.email,onChange:this.onChanges}),r.a.createElement(j.a,{onClick:this.onSubmit,size:"small",color:"secondary",variant:"contained"},"Send Password Reset Link"),r.a.createElement("div",{className:"turnComponent"},r.a.createElement("span",{onClick:function(){return e.props.turnComponent("signUp")},className:"switchLink"},"Register"),r.a.createElement("span",null,"|"),r.a.createElement("span",{onClick:function(){return e.props.turnComponent("signIn")},className:"switchLink"},"SignIn"))))}}]),a}(n.Component)),R=Object(E.b)((function(e){return{reset:e.reset,validInputs:e.validation}}),{resetPassword:function(e){return function(t){v.post("/api/password/reset",e).then((function(e){t({type:"Forget_Password_FETCH_SUCESSFULL"})})).catch((function(e){t({type:"Forget_Password_FETCH_FAILURE"})}))}},validation:I,emptyInput:C})(U),F=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={component:"signUp"},e.onTurnComponents=function(t){switch(t){case t:e.setState({component:t});break;default:return e.state.component}},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card_login_body"},"signUp"===this.state.component?r.a.createElement(T,{turnComponent:this.onTurnComponents}):"signIn"===this.state.component?r.a.createElement(P,{turnComponent:this.onTurnComponents}):"forgetPassword"===this.state.component?r.a.createElement(R,{turnComponent:this.onTurnComponents}):null)}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement(b,null),r.a.createElement(F,null))}}]),a}(n.Component),D=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(y,null),r.a.createElement(x,null))}}]),a}(n.Component),z=a(21),G=a(60),V=a(61),H=a(10),M={loggedIn:!1,error:!1},W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_LOADER":case"HIDE_LOADER":return t.data;default:return e}},Y={registered:!1,error:!1},q={resetSuccess:!1,error:!1},J=RegExp(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),Z={text:{},email:{},password:{},isEmpty:null},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMPTY_INPUT":return null===t.value||""===t.value?Object(H.a)({},e,{isEmpty:!0}):Object(H.a)({},e,{isEmpty:!1});case"TEXT_VALIDATION":return null===t.value||t.value.length<3?Object(H.a)({},e,{text:{isEmpty:!1,valid:!1,validError:!0,textError:"minimum 3 characaters required"}}):Object(H.a)({},e,{text:{isEmpty:!1,valid:!0,validError:!1,textError:{}}});case"EMAIL_VALIDATION":return J.test(t.value)?Object(H.a)({},e,{email:{isEmpty:!1,valid:!0,validError:!1,textError:{}}}):Object(H.a)({},e,{email:{isEmpty:!1,valid:!1,validError:!0,textError:"Invalid Email Address"}});case"PASSWORD_VALIDATION":return t.value.length<6?Object(H.a)({},e,{password:{isEmpty:!1,valid:!1,validError:!0,textError:"Minimum 6 Characaters Required"}}):Object(H.a)({},e,{password:{isEmpty:!1,valid:!0,validError:!1,textError:{}}});default:return e}},B=Object(z.combineReducers)({Login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGIN_SUCCESSFULL":return Object(H.a)({},e,{loggedIn:!0,error:!1});case"LOGGIN_FAILURE":return Object(H.a)({},e,{error:!0});default:return e}},loaded:W,reg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_SUCESSFULL":return Object(H.a)({},e,{registered:!0,error:!1});case"REGISTER_FAILURE":return Object(H.a)({},e,{error:!0});default:return e}},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Forget_Password_FETCH_SUCESSFULL":return Object(H.a)({},e,{resetSuccess:!0,error:!1});case"Forget_Password_FETCH_FAILURE":return Object(H.a)({},e,{error:!0});default:return e}},validation:$}),X=[G.a],K=Object(z.createStore)(B,{},Object(V.composeWithDevTools)(z.applyMiddleware.apply(void 0,X)));var Q=function(){return r.a.createElement(E.a,{store:K},r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){e.exports=a(104)},74:function(e,t,a){},75:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.27d3df26.chunk.js.map